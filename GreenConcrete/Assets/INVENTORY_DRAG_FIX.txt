â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         INVENTORY DRAG & DROP - DEBUG & FIX GUIDE           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” ISSUES FOUND AND FIXED:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ISSUE #1: NO EVENTSYSTEM (FIXED AUTOMATICALLY)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Problem:
  âŒ EventSystem was missing from scene
  âŒ UI events (clicks, drags) won't work without it

Solution:
  âœ… Created EventSystem GameObject in scene root
  âœ… Added EventSystem component
  âœ… Added StandaloneInputModule component

Verify:
  1. Look in Hierarchy for "EventSystem" at root level
  2. Should have 2 components:
     - EventSystem
     - StandaloneInputModule

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ ISSUE #2: RAYCAST TARGET ON ICON (MANUAL FIX REQUIRED)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Problem:
  âŒ Icon image inside InventoryItemUI prefab blocks dragging
  âŒ Icon's Raycast Target is DISABLED (should be disabled)
  âŒ Background's Raycast Target might be DISABLED (needs to be enabled)

CRITICAL FIX - DO THIS NOW:

1. Open: /Assets/Prefabs/Inventory/InventoryItemUi.prefab

2. Select ROOT "InventoryItemUi" GameObject:
   â†’ Check Image component
   â†’ âœ… ENABLE "Raycast Target" (check the box)
   â†’ This is the background - MUST receive raycasts for dragging!

3. Select CHILD "Icon" GameObject:
   â†’ Check Image component
   â†’ âŒ DISABLE "Raycast Target" (uncheck the box)
   â†’ This prevents icon from blocking background

4. Select CHILD "StackText" GameObject:
   â†’ Check TextMeshProUGUI component
   â†’ âŒ DISABLE "Raycast Target" (uncheck the box)

5. Save the prefab (Ctrl+S or File â†’ Save)

Visual Checklist:
  InventoryItemUi (ROOT)
    â””â”€ Image: Raycast Target âœ… CHECKED
  â”œâ”€ Icon
  â”‚   â””â”€ Image: Raycast Target âŒ UNCHECKED
  â””â”€ StackText
      â””â”€ TextMeshProUGUI: Raycast Target âŒ UNCHECKED

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ISSUE #3: GRID INITIALIZATION (FIXED IN CODE)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Problem:
  âŒ Grid might not initialize properly on first open

Solution:
  âœ… Updated InventoryUIManager.cs to add null checks
  âœ… Updated InventoryItemUI.cs to ensure raycast settings

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”§ ADDITIONAL CHECKS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Canvas Component:
   âœ… Must have GraphicRaycaster component
   âœ… Render Mode: Screen Space - Overlay (recommended)

2. InventoryItemUI Prefab:
   âœ… Must have CanvasGroup component on root
   âœ… Must have InventoryItemUI script on root
   âœ… Background Image must have Raycast Target ENABLED

3. DragHandler:
   âœ… Must exist in scene
   âœ… Must have InventoryDragHandler script
   âœ… Should be child of Canvas (anywhere is fine)

4. GridContainer:
   âœ… Must have InventoryGridUI script
   âœ… Cell Prefab must be assigned
   âœ… Item Prefab must be assigned

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ§ª TESTING PROCEDURE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

After applying the fixes:

1. Save all changes
2. Enter Play Mode
3. Press Tab â†’ Inventory should open
4. Press F1 â†’ Test items should appear in grid
5. Try to click on an item:
   - Item should become semi-transparent (alpha 0.6)
   - Item should follow mouse cursor
   - Grid cells should highlight green/red
6. Press R while dragging â†’ Item should rotate
7. Release mouse â†’ Item should snap to grid
8. Hover over item â†’ Tooltip should appear

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âŒ IF DRAGGING STILL DOESN'T WORK
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Try these debugging steps:

1. Check Console for errors:
   â†’ Window â†’ General â†’ Console
   â†’ Look for any red errors

2. Verify EventSystem exists:
   â†’ Look in Hierarchy for "EventSystem"
   â†’ Should be at root level (not inside Canvas)

3. Test Raycast Target:
   â†’ Select InventoryItemUi prefab
   â†’ Root object Image must have Raycast Target âœ…

4. Check CanvasGroup:
   â†’ InventoryItemUi prefab root
   â†’ Must have CanvasGroup component
   â†’ Alpha should be 1
   â†’ Interactable should be âœ…
   â†’ Block Raycasts should be âœ…

5. Verify DragHandler Instance:
   â†’ In Play Mode, open Console
   â†’ Type: InventoryDragHandler.Instance
   â†’ Should not be null

6. Check item creation:
   â†’ In Play Mode after pressing F1
   â†’ Look in GridContainer in Hierarchy
   â†’ Should see child objects (grid cells and items)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ› COMMON ISSUES & SOLUTIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Issue: "Items appear but I can't click them"
Solution:
  â†’ Root Image Raycast Target must be ENABLED
  â†’ CanvasGroup must exist
  â†’ EventSystem must exist in scene

Issue: "Nothing happens when I click"
Solution:
  â†’ Check Console for errors
  â†’ Verify EventSystem exists
  â†’ Make sure Canvas has GraphicRaycaster

Issue: "Items don't follow mouse"
Solution:
  â†’ InventoryDragHandler must exist in scene
  â†’ Check OnDrag is being called (add Debug.Log)
  â†’ Verify CanvasGroup.blocksRaycasts = false during drag

Issue: "Items snap back immediately"
Solution:
  â†’ Grid is not finding valid position
  â†’ Check grid size matches inventory size
  â†’ Verify item Width/Height properties

Issue: "Can't rotate items"
Solution:
  â†’ Item must have canRotate = true in ItemDefinition
  â†’ Press R while actively dragging
  â†’ Check InventoryDragHandler is receiving input

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ FINAL CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Scene Hierarchy:
  â˜ EventSystem exists at root
  â˜ Canvas has GraphicRaycaster
  â˜ inventoryPanel exists
  â˜ GridContainer has InventoryGridUI
  â˜ DragHandler has InventoryDragHandler
  â˜ InventoryUIManager exists

Prefabs:
  â˜ GridCell.prefab exists
  â˜ InventoryItemUi.prefab exists
  â˜ InventoryItemUi root has CanvasGroup
  â˜ InventoryItemUi root has InventoryItemUI script
  â˜ InventoryItemUi root Image: Raycast Target = ON
  â˜ Icon child Image: Raycast Target = OFF
  â˜ StackText: Raycast Target = OFF

References:
  â˜ InventoryGridUI: Cell Prefab assigned
  â˜ InventoryGridUI: Item Prefab assigned
  â˜ InventoryUIManager: inventoryPanel assigned
  â˜ InventoryUIManager: mainGridUI assigned
  â˜ InventoryItemUI: iconImage assigned
  â˜ InventoryItemUI: backgroundImage assigned
  â˜ InventoryItemUI: stackText assigned

Testing:
  â˜ Press Tab - inventory opens
  â˜ Press F1 - items appear
  â˜ Click item - becomes transparent
  â˜ Drag item - follows mouse
  â˜ Press R - item rotates
  â˜ Release - item places in grid
  â˜ Hover - tooltip appears

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ MOST IMPORTANT FIX:

Open /Assets/Prefabs/Inventory/InventoryItemUi.prefab
  â†’ Select ROOT object
  â†’ Image component
  â†’ âœ… CHECK "Raycast Target"
  â†’ Save prefab

This single fix will likely solve your dragging issue!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
